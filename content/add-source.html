<div class="wrapper" ng-controller="sourceCtrl">
    <header class="main-header">
        <div ng-include="'content/includes/top-bar.html'"></div>
    </header>
    <aside class="main-sidebar">
        <section class="sidebar">
            <div ng-include="'content/includes/leftbar.html'"></div>
        </section>
    </aside>
    <div class="content-wrapper">
        <section class="content-header">
            <h1> Save Source Details </h1>
        </section>
        <section class="content">
            <div class="row">
                <div class="col-sm-12">
                    <div class="box box-primary">
                        <div class="box-header">
                            <h3 class="box-title">Save Source Details</h3>
                        </div>
                        <div class="box-body">
                            <form name="sourceForm" class="form-horizontal submit-form" action="admin/source/save/" method="post" ng-submit="saveSource();" id="sourceForm">
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-2 control-label">Source Type</label>
                                    <div class="col-sm-10">
                                    <select class="form-control" name="type" id="type" ng-model="type" ng-required="true" ng-change="loadSourceName();">
                                        <option value="primary">Primary</option>
                                        <option value="secondary">Secondary</option>
                                        <option value="third">Third</option>
                                    </select>
                                        <span class="text-danger" ng-show="sourceForm.type.$touched && sourceForm.type.$error.required">type required.</span>
                                    </div>
                                </div>

                                <!-- <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-2 control-label">Source Name</label>
                                    <div class="col-sm-10">
                                       <select class="form-control" name="source_name" id="source_name" ng-model="source_name" ng-required="true">
                                            <option value="religion">Religion</option>
                                            <option value="pet">Pet</option>
                                            <option value="philosophy">Philosophy</option>
                                            <option value="science">Science</option>
                                        </select>
                                        <span class="text-danger" ng-show="sourceForm.source_name.$touched && sourceForm.source_name.$error.required">source_name required.</span>
                                    </div>
                                </div> -->
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-2 control-label">Source Name</label>
                                    <div class="col-sm-10">
                                       <select class="form-control" name="source_name" id="source_name" ng-model="source_name" value="{{source_name}}" ng-required="true">
                                           <option value="">--Select--</option> 
                                           <option  ng-repeat="x in sourcesName" value="{{x._id}}">{{x.source_name}}</option>
                                       </select>
                                        <span class="text-danger" ng-show="sourceForm.source_name.$touched && sourceForm.source_name.$error.required"></span>
                                    </div>
                                </div>
                                <div class="form-group" >
                                    <label for="inputEmail3" class="col-sm-2 control-label">Source Code</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" name="source_code" id="source_code" ng-model="source_code" value="{{source_code}}" ng-required="true" />
                                        <span class="text-danger" ng-show="sourceForm.source_code.$touched && sourceForm.source_code.$error.required"></span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="inputEmail3" class="col-sm-2 control-label">Source Value</label>
                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" name="source_value" id="source_value" ng-model="source_value" value="{{source_value}}" ng-required="true" />
                                        <span class="text-danger" ng-show="sourceForm.source_value.$touched && sourceForm.source_value.$error.required">Please Enter Source Value</span>
                                    </div>
                                </div>
                                
                                <div class="box-footer">
                                 <button type="button" class="btn btn-default" ng-click="goToSourceList();">Cancel</button>
                                 <button type="submit" class="btn btn-info pull-right" ng-disabled="sourceForm.$invalid">Save</button>
                              </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function(){
        $(document  ).on('click','#source_name',function(){
              var source_id = $(this).val();
              //console.log(source_name);  
              $.ajax({
                    method:'GET',
                    url: api_url + 'admin/source/get-code/'+source_id,
                    datatype:'JSON',
                    success: function(res){
                        
                    }
              });  
        });    
    });
    
</script>